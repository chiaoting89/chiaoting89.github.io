<!DOCTYPE html>
<html>
<head>
    <title>多伦多时钟</title>
    <style type="text/css">
        body {
            background-color: white;
        }
        .clock {
            display: inline-block;
            position: relative; /* 使指针相对于时钟定位 */
            font-size: 48px;
            vertical-align: top;
            margin-top: 100px;
            padding: 20px;
            border-radius: 20px;
            background-color: pink;
            box-shadow: 0 0 20px rgba(0,0,0,0.2);
        }
        .hour-hand, .minute-hand, .second-hand {
            position: absolute; /* 将指针绝对定位 */
            width: 4px; /* 指针的宽度 */
            height: 40%; /* 指针的长度 */
            background-color: black;
            transform-origin: bottom center; /* 指针旋转的基点 */
            transition: all 0.5s ease-in-out; /* 指针变化的过渡效果 */
        }
        .hour-hand {
            height: 30%;
            z-index: 3; /* 将小时指针放在最上层 */
        }
        .minute-hand {
            height: 45%;
            z-index: 2; /* 将分钟指针放在中间层 */
        }
        .second-hand {
            z-index: 1; /* 将秒钟指针放在最底层 */
        }
    </style>
</head>
<body>
    <div class="clock">
        <script>
            function updateTime() {
                var d = new Date();
                var utcOffset = -4; // 加拿大多伦多为 UTC-4
                var localTime = d.getTime() + (d.getTimezoneOffset() * 60000);
                var torontoTime = new Date(localTime + (utcOffset * 3600000));
                var hours = torontoTime.getHours();
                var minutes = torontoTime.getMinutes();
                var seconds = torontoTime.getSeconds();
                var hourHand = document.querySelector(".hour-hand");
                var minuteHand = document.querySelector(".minute-hand");
                var secondHand = document.querySelector(".second-hand");
                var hourAngle = (hours % 12) / 12 * 360 + minutes / 60 * 30; // 计算小时指针的角度
                var minuteAngle = minutes / 60 * 360 + seconds / 60 * 6; // 计算分钟指针的角度
                var secondAngle = seconds / 60 * 360; // 计算秒钟指针的角度
                hourHand.style.transform = `rotate(${hourAngle}deg)`; // 旋转小时指针的位置
                minuteHand.style.transform = `rotate(${minuteAngle}deg)`; // 旋转分钟指针的位置
                secondHand.style.transform = `rotate(${secondAngle}deg)`; // 旋转秒钟指针的位置
                var daysOfWeek = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"][torontoTime.getDay()];
                var ampm = hours >= 12 ? 'PM' : 'AM';
                hours = hours % 12;
                hours = hours ? hours : 12;
                minutes = (minutes < 10 ? "0" : "") + minutes;
                seconds = (seconds < 10 ? "0" : "") + seconds;
                var timeString = hours + ":" + minutes + ":" + seconds + ' ' + ampm + '<br>' + daysOfWeek; // 添加星期几的显示
                document.getElementById("clock").innerHTML = timeString;
            }
            setInterval(updateTime, 1000);
        </script>
        <div id="clock"></div>
    </div>
</body>
</html>
